
0) install tmux

sudo apt update
sudo apt install tmux -y
tmux
tmux new -s prod

1) install ngnix and git

sudo apt update && sudo apt upgrade -y
sudo apt install -y nginx git



2) install docker

# Add Docker's official GPG key:
sudo apt-get update
sudo apt-get install ca-certificates curl
sudo install -m 0755 -d /etc/apt/keyrings
sudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc
sudo chmod a+r /etc/apt/keyrings/docker.asc

# Add the repository to Apt sources:
echo \
  "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu \
  $(. /etc/os-release && echo "$VERSION_CODENAME") stable" | \
  sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
sudo apt-get update

sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin

sudo apt install docker-compose -y




3) create ssl certificate and bundle

go to /etc/ssl

a) folksmedia_bundle.crt

-----BEGIN CERTIFICATE-----
MIIGOTCCBSGgAwIBAgIRANQJq/gl+Do5nNFzqE/4SPQwDQYJKoZIhvcNAQELBQAw
gY8xCzAJBgNVBAYTAkdCMRswGQYDVQQIExJHcmVhdGVyIE1hbmNoZXN0ZXIxEDAO
BgNVBAcTB1NhbGZvcmQxGDAWBgNVBAoTD1NlY3RpZ28gTGltaXRlZDE3MDUGA1UE
AxMuU2VjdGlnbyBSU0EgRG9tYWluIFZhbGlkYXRpb24gU2VjdXJlIFNlcnZlciBD
QTAeFw0yMzEyMTQwMDAwMDBaFw0yNTAxMTIyMzU5NTlaMBsxGTAXBgNVBAMMECou
Zm9sa3NtZWRpYS5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDI
QOsZZifms+EFrSWCPQryEMb1M7PPeT3rl5Be0X1UIrjNV4pgn/DM01ylzDklSNz+
LGYkB8Q/ditRfOeRfbYcn6q4NFlXNSOe9KvZwzaSFV+ozu5NpGfa9C7rFDX17XlX
60yb4lAPWUFpjNOr1gc9x/PmjJosDhoOoWGyV+jhqHqmdbilaGLkG+2kjKye+J79
FyQC3fvwu+JfgAwAg/iwVH3tMoKJBD/chYaezXEmeAnHXASGow1K/aI6YvkK7BiV
MzjfzZLehwLVxO+dVEZOjS6jZB4+mLUWDQjcqYEJDJvtwVot6VS3vDodgDjkRnd0
rE1fsPKxS+xqBIG8GI2zAgMBAAGjggMBMIIC/TAfBgNVHSMEGDAWgBSNjF7EVK2K
4Xfpm/mbBeG4AY1h4TAdBgNVHQ4EFgQUL0a6Z0MoCPRoPpa3nkv5U+legwcwDgYD
VR0PAQH/BAQDAgWgMAwGA1UdEwEB/wQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEG
CCsGAQUFBwMCMEkGA1UdIARCMEAwNAYLKwYBBAGyMQECAgcwJTAjBggrBgEFBQcC
ARYXaHR0cHM6Ly9zZWN0aWdvLmNvbS9DUFMwCAYGZ4EMAQIBMIGEBggrBgEFBQcB
AQR4MHYwTwYIKwYBBQUHMAKGQ2h0dHA6Ly9jcnQuc2VjdGlnby5jb20vU2VjdGln
b1JTQURvbWFpblZhbGlkYXRpb25TZWN1cmVTZXJ2ZXJDQS5jcnQwIwYIKwYBBQUH
MAGGF2h0dHA6Ly9vY3NwLnNlY3RpZ28uY29tMCsGA1UdEQQkMCKCECouZm9sa3Nt
ZWRpYS5jb22CDmZvbGtzbWVkaWEuY29tMIIBfQYKKwYBBAHWeQIEAgSCAW0EggFp
AWcAdgDPEVbu1S58r/OHW9lpLpvpGnFnSrAX7KwB0lt3zsw7CAAAAYxntFVNAAAE
AwBHMEUCICQVY0uDtePIy12C6SURKaimEHLzYgveIzrNI043af1YAiEA0YFGPwer
EvhDhYnVY6NIJ+7+yyNNqgQDf3l4ZNNq3RcAdgCi4wrkRe+9rZt+OO1HZ3dT14Jb
hJTXK14bLMS5UKRH5wAAAYxntFViAAAEAwBHMEUCIQD2rIv+MphIib8jBxIk553q
4Ya0Ptj6hdgcFUiHv3rgSQIgZdu0TygYJVW1nsqFU7pL/1KY1Py4O3pq8zRZmwJ+
u1IAdQBOdaMnXJoQwzhbbNTfP1LrHfDgjhuNacCx+mSxYpo53wAAAYxntFUwAAAE
AwBGMEQCIDX7ZmhEuKKfOq/ZfGNwfc36EOal5EquzhwlYfS5//L4AiAySylhZhDW
xKDXINkWbyyudKc55UkTIGkv7ub4IcvOdTANBgkqhkiG9w0BAQsFAAOCAQEAtRXW
tTukViJgTNfn4GCVi3IdAjLR1TnexztU7xJozbPose1JI11G3DG1XHChjqV87l23
Rvuk8hUd3qkZN+KMcKuSgjkeWhpVd0Rmkzj1BZr7JPPrKrnb8GUXhCQDWUIkubWe
KMEULW0LVRQOCvGG19VbxedTmDXcyFrPzajG+6mv/tUFnvYck/2HGOT4eYoLw4TT
Pj6dtTBdp7YbYmWcDh1Q9Q0RPbb3AV3LmGrdkrQ2lSYvBGwyZLEYqePAGHiXiSBu
AR8FImtiszaZRsu0QukOBF/sli0UpK4tDSmHPO4a8MgXfY4Ggi7b93TODZSuahIj
igI1L+Z5iNLfz7hecQ==
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
MIIGEzCCA/ugAwIBAgIQfVtRJrR2uhHbdBYLvFMNpzANBgkqhkiG9w0BAQwFADCB
iDELMAkGA1UEBhMCVVMxEzARBgNVBAgTCk5ldyBKZXJzZXkxFDASBgNVBAcTC0pl
cnNleSBDaXR5MR4wHAYDVQQKExVUaGUgVVNFUlRSVVNUIE5ldHdvcmsxLjAsBgNV
BAMTJVVTRVJUcnVzdCBSU0EgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTgx
MTAyMDAwMDAwWhcNMzAxMjMxMjM1OTU5WjCBjzELMAkGA1UEBhMCR0IxGzAZBgNV
BAgTEkdyZWF0ZXIgTWFuY2hlc3RlcjEQMA4GA1UEBxMHU2FsZm9yZDEYMBYGA1UE
ChMPU2VjdGlnbyBMaW1pdGVkMTcwNQYDVQQDEy5TZWN0aWdvIFJTQSBEb21haW4g
VmFsaWRhdGlvbiBTZWN1cmUgU2VydmVyIENBMIIBIjANBgkqhkiG9w0BAQEFAAOC
AQ8AMIIBCgKCAQEA1nMz1tc8INAA0hdFuNY+B6I/x0HuMjDJsGz99J/LEpgPLT+N
TQEMgg8Xf2Iu6bhIefsWg06t1zIlk7cHv7lQP6lMw0Aq6Tn/2YHKHxYyQdqAJrkj
eocgHuP/IJo8lURvh3UGkEC0MpMWCRAIIz7S3YcPb11RFGoKacVPAXJpz9OTTG0E
oKMbgn6xmrntxZ7FN3ifmgg0+1YuWMQJDgZkW7w33PGfKGioVrCSo1yfu4iYCBsk
Haswha6vsC6eep3BwEIc4gLw6uBK0u+QDrTBQBbwb4VCSmT3pDCg/r8uoydajotY
uK3DGReEY+1vVv2Dy2A0xHS+5p3b4eTlygxfFQIDAQABo4IBbjCCAWowHwYDVR0j
BBgwFoAUU3m/WqorSs9UgOHYm8Cd8rIDZsswHQYDVR0OBBYEFI2MXsRUrYrhd+mb
+ZsF4bgBjWHhMA4GA1UdDwEB/wQEAwIBhjASBgNVHRMBAf8ECDAGAQH/AgEAMB0G
A1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAbBgNVHSAEFDASMAYGBFUdIAAw
CAYGZ4EMAQIBMFAGA1UdHwRJMEcwRaBDoEGGP2h0dHA6Ly9jcmwudXNlcnRydXN0
LmNvbS9VU0VSVHJ1c3RSU0FDZXJ0aWZpY2F0aW9uQXV0aG9yaXR5LmNybDB2Bggr
BgEFBQcBAQRqMGgwPwYIKwYBBQUHMAKGM2h0dHA6Ly9jcnQudXNlcnRydXN0LmNv
bS9VU0VSVHJ1c3RSU0FBZGRUcnVzdENBLmNydDAlBggrBgEFBQcwAYYZaHR0cDov
L29jc3AudXNlcnRydXN0LmNvbTANBgkqhkiG9w0BAQwFAAOCAgEAMr9hvQ5Iw0/H
ukdN+Jx4GQHcEx2Ab/zDcLRSmjEzmldS+zGea6TvVKqJjUAXaPgREHzSyrHxVYbH
7rM2kYb2OVG/Rr8PoLq0935JxCo2F57kaDl6r5ROVm+yezu/Coa9zcV3HAO4OLGi
H19+24rcRki2aArPsrW04jTkZ6k4Zgle0rj8nSg6F0AnwnJOKf0hPHzPE/uWLMUx
RP0T7dWbqWlod3zu4f+k+TY4CFM5ooQ0nBnzvg6s1SQ36yOoeNDT5++SR2RiOSLv
xvcRviKFxmZEJCaOEDKNyJOuB56DPi/Z+fVGjmO+wea03KbNIaiGCpXZLoUmGv38
sbZXQm2V0TP2ORQGgkE49Y9Y3IBbpNV9lXj9p5v//cWoaasm56ekBYdbqbe4oyAL
l6lFhd2zi+WJN44pDfwGF/Y4QA5C5BIG+3vzxhFoYt/jmPQT2BVPi7Fp2RBgvGQq
6jG35LWjOhSbJuMLe/0CjraZwTiXWTb2qHSihrZe68Zk6s+go/lunrotEbaGmAhY
LcmsJWTyXnW0OMGuf1pGg+pRyrbxmRE1a6Vqe8YAsOf4vmSyrcjC8azjUeqkk+B5
yOGBQMkKW+ESPMFgKuOXwIlCypTPRpgSabuY0MLTDXJLR27lk8QyKGOHQ+SwMj4K
00u/I5sUKUErmgQfky3xxzlIPK1aEn8=
-----END CERTIFICATE-----

-----BEGIN CERTIFICATE-----
MIIFgTCCBGmgAwIBAgIQOXJEOvkit1HX02wQ3TE1lTANBgkqhkiG9w0BAQwFADB7
MQswCQYDVQQGEwJHQjEbMBkGA1UECAwSR3JlYXRlciBNYW5jaGVzdGVyMRAwDgYD
VQQHDAdTYWxmb3JkMRowGAYDVQQKDBFDb21vZG8gQ0EgTGltaXRlZDEhMB8GA1UE
AwwYQUFBIENlcnRpZmljYXRlIFNlcnZpY2VzMB4XDTE5MDMxMjAwMDAwMFoXDTI4
MTIzMTIzNTk1OVowgYgxCzAJBgNVBAYTAlVTMRMwEQYDVQQIEwpOZXcgSmVyc2V5
MRQwEgYDVQQHEwtKZXJzZXkgQ2l0eTEeMBwGA1UEChMVVGhlIFVTRVJUUlVTVCBO
ZXR3b3JrMS4wLAYDVQQDEyVVU0VSVHJ1c3QgUlNBIENlcnRpZmljYXRpb24gQXV0
aG9yaXR5MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAgBJlFzYOw9sI
s9CsVw127c0n00ytUINh4qogTQktZAnczomfzD2p7PbPwdzx07HWezcoEStH2jnG
vDoZtF+mvX2do2NCtnbyqTsrkfjib9DsFiCQCT7i6HTJGLSR1GJk23+jBvGIGGqQ
Ijy8/hPwhxR79uQfjtTkUcYRZ0YIUcuGFFQ/vDP+fmyc/xadGL1RjjWmp2bIcmfb
IWax1Jt4A8BQOujM8Ny8nkz+rwWWNR9XWrf/zvk9tyy29lTdyOcSOk2uTIq3XJq0
tyA9yn8iNK5+O2hmAUTnAU5GU5szYPeUvlM3kHND8zLDU+/bqv50TmnHa4xgk97E
xwzf4TKuzJM7UXiVZ4vuPVb+DNBpDxsP8yUmazNt925H+nND5X4OpWaxKXwyhGNV
icQNwZNUMBkTrNN9N6frXTpsNVzbQdcS2qlJC9/YgIoJk2KOtWbPJYjNhLixP6Q5
D9kCnusSTJV882sFqV4Wg8y4Z+LoE53MW4LTTLPtW//e5XOsIzstAL81VXQJSdhJ
WBp/kjbmUZIO8yZ9HE0XvMnsQybQv0FfQKlERPSZ51eHnlAfV1SoPv10Yy+xUGUJ
5lhCLkMaTLTwJUdZ+gQek9QmRkpQgbLevni3/GcV4clXhB4PY9bpYrrWX1Uu6lzG
KAgEJTm4Diup8kyXHAc/DVL17e8vgg8CAwEAAaOB8jCB7zAfBgNVHSMEGDAWgBSg
EQojPpbxB+zirynvgqV/0DCktDAdBgNVHQ4EFgQUU3m/WqorSs9UgOHYm8Cd8rID
ZsswDgYDVR0PAQH/BAQDAgGGMA8GA1UdEwEB/wQFMAMBAf8wEQYDVR0gBAowCDAG
BgRVHSAAMEMGA1UdHwQ8MDowOKA2oDSGMmh0dHA6Ly9jcmwuY29tb2RvY2EuY29t
L0FBQUNlcnRpZmljYXRlU2VydmljZXMuY3JsMDQGCCsGAQUFBwEBBCgwJjAkBggr
BgEFBQcwAYYYaHR0cDovL29jc3AuY29tb2RvY2EuY29tMA0GCSqGSIb3DQEBDAUA
A4IBAQAYh1HcdCE9nIrgJ7cz0C7M7PDmy14R3iJvm3WOnnL+5Nb+qh+cli3vA0p+
rvSNb3I8QzvAP+u431yqqcau8vzY7qN7Q/aGNnwU4M309z/+3ri0ivCRlv79Q2R+
/czSAaF9ffgZGclCKxO/WIu6pKJmBHaIkU4MiRTOok3JMrO66BQavHHxW/BBC5gA
CiIDEOUMsfnNkjcZ7Tvx5Dq2+UUTJnWvu6rvP3t3O9LEApE9GQDTF1w52z97GA1F
zZOFli9d31kWTz9RvdVFGD/tSo7oBmF0Ixa1DVBzJ0RHfxBdiSprhTEUxOipakyA
vGp4z7h/jnZymQyd/teRCBaho1+V
-----END CERTIFICATE-----

-----BEGIN CERTIFICATE-----
MIIEMjCCAxqgAwIBAgIBATANBgkqhkiG9w0BAQUFADB7MQswCQYDVQQGEwJHQjEb
MBkGA1UECAwSR3JlYXRlciBNYW5jaGVzdGVyMRAwDgYDVQQHDAdTYWxmb3JkMRow
GAYDVQQKDBFDb21vZG8gQ0EgTGltaXRlZDEhMB8GA1UEAwwYQUFBIENlcnRpZmlj
YXRlIFNlcnZpY2VzMB4XDTA0MDEwMTAwMDAwMFoXDTI4MTIzMTIzNTk1OVowezEL
MAkGA1UEBhMCR0IxGzAZBgNVBAgMEkdyZWF0ZXIgTWFuY2hlc3RlcjEQMA4GA1UE
BwwHU2FsZm9yZDEaMBgGA1UECgwRQ29tb2RvIENBIExpbWl0ZWQxITAfBgNVBAMM
GEFBQSBDZXJ0aWZpY2F0ZSBTZXJ2aWNlczCCASIwDQYJKoZIhvcNAQEBBQADggEP
ADCCAQoCggEBAL5AnfRu4ep2hxxNRUSOvkbIgwadwSr+GB+O5AL686tdUIoWMQua
BtDFcCLNSS1UY8y2bmhGC1Pqy0wkwLxyTurxFa70VJoSCsN6sjNg4tqJVfMiWPPe
3M/vg4aijJRPn2jymJBGhCfHdr/jzDUsi14HZGWCwEiwqJH5YZ92IFCokcdmtet4
YgNW8IoaE+oxox6gmf049vYnMlhvB/VruPsUK6+3qszWY19zjNoFmag4qMsXeDZR
rOme9Hg6jc8P2ULimAyrL58OAd7vn5lJ8S3frHRNG5i1R8XlKdH5kBjHYpy+g8cm
ez6KJcfA3Z3mNWgQIJ2P2N7Sw4ScDV7oL8kCAwEAAaOBwDCBvTAdBgNVHQ4EFgQU
oBEKIz6W8Qfs4q8p74Klf9AwpLQwDgYDVR0PAQH/BAQDAgEGMA8GA1UdEwEB/wQF
MAMBAf8wewYDVR0fBHQwcjA4oDagNIYyaHR0cDovL2NybC5jb21vZG9jYS5jb20v
QUFBQ2VydGlmaWNhdGVTZXJ2aWNlcy5jcmwwNqA0oDKGMGh0dHA6Ly9jcmwuY29t
b2RvLm5ldC9BQUFDZXJ0aWZpY2F0ZVNlcnZpY2VzLmNybDANBgkqhkiG9w0BAQUF
AAOCAQEACFb8AvCb6P+k+tZ7xkSAzk/ExfYAWMymtrwUSWgEdujm7l3sAg9g1o1Q
GE8mTgHj5rCl7r+8dFRBv/38ErjHT1r0iWAFf2C3BUrz9vHCv8S5dIa2LX1rzNLz
Rt0vxuBqw8M0Ayx9lt1awg6nCpnBBYurDC/zXDrPbDdVCYfeU0BsWO/8tqtlbgT2
G9w84FoVxp7Z8VlIMCFlA2zs6SFz7JsDoeA3raAVGI/6ugLOpyypEBMs1OUIJqsi
l2D4kF501KKaU73yqWjgom7C12yxow+ev+to51byrvLjKzg6CYG1a4XXvi3tPxq3
smPi9WIsgtRqAEFQ8TmDn5XpNpaYbg==
-----END CERTIFICATE-----

b)folksmedia_ssl.key

-----BEGIN PRIVATE KEY-----
MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDIQOsZZifms+EF
rSWCPQryEMb1M7PPeT3rl5Be0X1UIrjNV4pgn/DM01ylzDklSNz+LGYkB8Q/ditR
fOeRfbYcn6q4NFlXNSOe9KvZwzaSFV+ozu5NpGfa9C7rFDX17XlX60yb4lAPWUFp
jNOr1gc9x/PmjJosDhoOoWGyV+jhqHqmdbilaGLkG+2kjKye+J79FyQC3fvwu+Jf
gAwAg/iwVH3tMoKJBD/chYaezXEmeAnHXASGow1K/aI6YvkK7BiVMzjfzZLehwLV
xO+dVEZOjS6jZB4+mLUWDQjcqYEJDJvtwVot6VS3vDodgDjkRnd0rE1fsPKxS+xq
BIG8GI2zAgMBAAECggEAPcZRABfUbUXGP9MHBCNCkiP8zD1z1afoIxoxTh6/08mW
SroblO0iAn2dUgQrCMZubfZSWAERWCZi/JNUeDxYhoH2zzZO7SkWYP3HWbjvx6bS
SKf1OXxjEVdMdfZZIxFr4mRS0K/C1MlK9X2c+qBewX9CTTfIg5iiDytXkQWvcJTV
84uRST6D3nt9/b9UszDFJRPcnE9GKHmNl2mxMCKsJZY+c06KrrEWMmLqzQM7J2v/
vwThImTNYQvXPCbIh52izJUChyAiHPzbcgD+BEfMbV54I7A9uPThEUx6uWO7thK2
MeGzIyNqdfeGgCcD7EVos0NH6kvIFhYoOB52dq2JwQKBgQDl2KNP7K26+DEHptzo
gdDxJB7WjlLw0bZodVeI/LwSd/LxPNS0F/SnhpPE3JG7zGGY8DijKXWJSr/vAEzD
l4p066Fkjm5Kj5a5LSguEMjBj7b7pIpsVhH3hm3/NzlMbPaPW4Z9VbXhEytFRZnB
GsAGRNf/B0AIMPWPgFR/cCbs4QKBgQDfCkEE5Fd34TAReKlqm6LH3wKJs6exaOYS
dipG5Rak/emvUG9BcMXJPtIsh97wpIQ8dHaVm0Au5b+AP1DxJ/xydyMK9I8+0pEc
LSI4Pq9YQnQFAL60qo+AsIl/j+f0XLEWMy+KxH2vXhYZDMKYAoprJqLx5q8cI/Kn
VxV3k3MZEwKBgHtT88Ul7M4+8Cf3697CETfitr1PXsei7yo7lD2Hxu5t+ChjCIqd
tAPT3SQrafMHpnKmqu05iLyjJDt8wLPOc1drO402M43EYA56YW3eSao6j+eUkUWy
JS/YrNrdadxNNzsS1CYaQF5Fp9kikG6iCNkURYWtATmj848NP8mlhu1hAoGBAK/r
G4trOt4v/ETbgey3IvY4nHzV+b9BeK45C3FtgaXTK7z+WTIpa6cmaIl9BUeSy0YP
qfSoRkB3L8tMpWAAZOo3s6kRaeZoGNI7exEXyB96Ep5bjw9as+MR2vGFJLOlZHuZ
FbeC8YsfT5ikatuQrXKEP+NCSv2MEPkSA7mT0CWHAoGAWg4nsv3uLfHLN/ny/8l+
3o8v1r8Ef00YCqR8eIl1isJeXV4XpJTklSTrNDaUBmcnEY4HBa74A+Z8TFRPCb+u
d0qjPoBbc2XmDU7niv2CZvoRWvD2n3yU3ZnTxbCosRx5t3fhtkH1sLXTfBbqCt71
F/W5/JGkqchtqJwLDXJq6J4=
-----END PRIVATE KEY-----


4) change nginx Configure

/etc/nginx/nginx.conf

server {
        listen 80;
        listen      443 ssl;

        client_max_body_size 10M;
        ssl_certificate      /etc/ssl/folksmedia_bundle.crt;
        ssl_certificate_key /etc/ssl/folksmedia_ssl.key;
        server_name finance-platform-prod.folksmedia.com;

        location / {
            proxy_set_header   X-Real-IP $remote_addr;
            proxy_set_header   Host      $http_host;
            proxy_pass         http://127.0.0.1:8003;
        }

     }

sudo nginx -t

sudo systemctl restart nginx

5) git clone 

6) check docker file and up the file 